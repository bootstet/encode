(window.webpackJsonp=window.webpackJsonp||[]).push([[110],{472:function(t,a,s){"use strict";s.r(a);var e=s(25),r=Object(e.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"前端安全面试题-21题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#前端安全面试题-21题"}},[t._v("#")]),t._v(" 前端安全面试题（21题）")]),t._v(" "),a("p",[t._v("本文汇总前端安全常见问题，包含：XSS 类型与演示、DOM 型 XSS、上下文编码、净化方案、CSP、Cookie/会话安全、CSRF、权限认证、跨域、HTTPS、WebSocket 安全等。")]),t._v(" "),a("h2",{attrs:{id:"_1-说说你对-xss-的理解"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-说说你对-xss-的理解"}},[t._v("#")]),t._v(" 1. 说说你对 XSS 的理解")]),t._v(" "),a("h3",{attrs:{id:"一、初探-xss"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一、初探-xss"}},[t._v("#")]),t._v(" 一、初探 XSS")]),t._v(" "),a("p",[t._v('跨站脚本攻击，英文全称是 Cross Site Script，本来缩写是 CSS，但是为了和层叠样式表（Cascading Style Sheet，CSS）有所区别，所以在安全领域叫做"XSS"。')]),t._v(" "),a("p",[t._v("XSS 攻击，通常指黑客通过 HTML 注入篡改网页，插入恶意脚本，从而在用户浏览网页时，控制用户浏览器的一种攻击行为。")]),t._v(" "),a("h3",{attrs:{id:"二、xss-攻击类型分类"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二、xss-攻击类型分类"}},[t._v("#")]),t._v(" 二、XSS 攻击类型分类")]),t._v(" "),a("p",[t._v("XSS 攻击可以分为 3 类：反射型（非持久型）、存储型（持久型）、基于 DOM 的 XSS。")]),t._v(" "),a("h4",{attrs:{id:"反射型"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#反射型"}},[t._v("#")]),t._v(" 反射型")]),t._v(" "),a("p",[t._v('反射型 XSS 只是简单地把用户输入的数据"反射"给浏览器。也就是说，黑客往往需要诱使用户"点击"一个恶意链接，才能攻击成功。反射型 XSS 也叫做"非持久型 XSS"（Non-persistent XSS）。')]),t._v(" "),a("p",[t._v("通常反射型 XSS 的恶意代码存在 URL 里，通过 URL 传递参数的功能，如网站搜索、跳转等。")]),t._v(" "),a("h4",{attrs:{id:"存储型"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#存储型"}},[t._v("#")]),t._v(" 存储型")]),t._v(" "),a("p",[t._v('存储型 XSS 会把用户输入的数据"存储"在服务器端。这种 XSS 具有很强的稳定性。')]),t._v(" "),a("p",[t._v("比较常见的一个场景就是，黑客写下一篇包含有恶意 JavaScript 代码的博客文章，文章发表后，所有访问该博客文章的用户，都会在他们的浏览器中执行这段恶意的 JavaScript 代码。")]),t._v(" "),a("h4",{attrs:{id:"dom-型-xss"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dom-型-xss"}},[t._v("#")]),t._v(" DOM 型 XSS")]),t._v(" "),a("p",[t._v("DOM 型 XSS 是一种比较特殊的 XSS，需要满足几种条件才能发生，不太通用，但很隐蔽，危害较大。")]),t._v(" "),a("p",[t._v("本质上是 DOM 节点的文本内容不可控，作为代码被执行了。")]),t._v(" "),a("p",[t._v("会触发 XSS 的地方有很多，以下几个地方需要格外注意：")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("document.write()")])]),t._v(" "),a("li",[a("code",[t._v("document.writeln()")])]),t._v(" "),a("li",[a("code",[t._v("xxx.innerHTML")])]),t._v(" "),a("li",[a("code",[t._v("xxx.outerHTML")])]),t._v(" "),a("li",[a("code",[t._v("document.attachEvent()")])]),t._v(" "),a("li",[a("code",[t._v("window.attachEvent()")])]),t._v(" "),a("li",[a("code",[t._v("window.location()")])])]),t._v(" "),a("h2",{attrs:{id:"_2-xss-中的编码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-xss-中的编码"}},[t._v("#")]),t._v(" 2. XSS 中的编码")]),t._v(" "),a("h3",{attrs:{id:"html-实体编码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#html-实体编码"}},[t._v("#")]),t._v(" HTML 实体编码")]),t._v(" "),a("p",[t._v("对用户输入的内容进行 HTML 实体编码，将特殊字符转义：")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("encodeForHTML")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("str")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" str\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("replace")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token regex"}},[a("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[t._v("&")]),a("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token regex-flags"}},[t._v("g")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'&amp;'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("replace")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token regex"}},[a("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token regex-flags"}},[t._v("g")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'&lt;'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("replace")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token regex"}},[a("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token regex-flags"}},[t._v("g")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'&gt;'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("replace")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token regex"}},[a("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[t._v('"')]),a("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token regex-flags"}},[t._v("g")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'&quot;'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("replace")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token regex"}},[a("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[t._v("'")]),a("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token regex-flags"}},[t._v("g")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'&#x27;'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("replace")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token regex"}},[a("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[t._v("\\/")]),a("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token regex-flags"}},[t._v("g")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'&#x2F;'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"javascript-编码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#javascript-编码"}},[t._v("#")]),t._v(" JavaScript 编码")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("encodeForJavaScript")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("str")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" str"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("replace")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token regex"}},[a("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[t._v("[^\\w,\\. ]")]),a("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token regex-flags"}},[t._v("g")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("c")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'\\\\x'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" c"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("charCodeAt")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("toString")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("16")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("padStart")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'0'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h2",{attrs:{id:"_3-csrf-攻击及防护"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-csrf-攻击及防护"}},[t._v("#")]),t._v(" 3. CSRF 攻击及防护")]),t._v(" "),a("h3",{attrs:{id:"什么是-csrf"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#什么是-csrf"}},[t._v("#")]),t._v(" 什么是 CSRF")]),t._v(" "),a("p",[t._v("CSRF 攻击（Cross-Site Request Forgery，跨站请求伪造）是针对用户身份进行攻击的行为。")]),t._v(" "),a("p",[t._v("攻击者诱导用户打开第三方网站，利用用户已经获取的登录凭证，冒充用户执行操作。")]),t._v(" "),a("h3",{attrs:{id:"csrf-攻击流程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#csrf-攻击流程"}},[t._v("#")]),t._v(" CSRF 攻击流程")]),t._v(" "),a("ol",[a("li",[t._v("攻击者构造出特定的第三方网页，含有请求目标网站接口的请求")]),t._v(" "),a("li",[t._v("用户打开该网页时，浏览器带上登录凭证，发起请求到目标网站")]),t._v(" "),a("li",[t._v("目标网站执行请求（带着用户的登录状态）")])]),t._v(" "),a("h3",{attrs:{id:"csrf-防护"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#csrf-防护"}},[t._v("#")]),t._v(" CSRF 防护")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("同源检测")]),t._v("：验证请求来源")]),t._v(" "),a("li",[a("strong",[t._v("SameSite Cookie")]),t._v("：设置 Cookie 的 SameSite 属性")]),t._v(" "),a("li",[a("strong",[t._v("CSRF Token")]),t._v("：在表单中添加随机 Token")]),t._v(" "),a("li",[a("strong",[t._v("验证 Referer")]),t._v("：检查请求来源")])]),t._v(" "),a("h4",{attrs:{id:"csrf-token-验证流程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#csrf-token-验证流程"}},[t._v("#")]),t._v(" CSRF Token 验证流程")]),t._v(" "),a("ol",[a("li",[t._v("用户打开页面时，服务器生成 Token")]),t._v(" "),a("li",[t._v("对于 GET 请求，Token 附在请求地址之后；对于 POST 请求，需要在表单中增加隐藏域")]),t._v(" "),a("li",[t._v("用户提交请求后，服务端验证 Token 是否正确")])]),t._v(" "),a("h2",{attrs:{id:"_4-说说你对前端权限的理解"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-说说你对前端权限的理解"}},[t._v("#")]),t._v(" 4. 说说你对前端权限的理解")]),t._v(" "),a("h3",{attrs:{id:"session-cookie"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#session-cookie"}},[t._v("#")]),t._v(" Session-Cookie")]),t._v(" "),a("p",[t._v("利用服务器的 Session（会话）和浏览器的 Cookie 来实现前后端的认证。")]),t._v(" "),a("p",[t._v("由于 HTTP 协议是无状态的，服务器需要创建会话，并通过浏览器的请求携带 Cookie 中的 sessionId 来识别用户。")]),t._v(" "),a("h3",{attrs:{id:"token"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#token"}},[t._v("#")]),t._v(" Token")]),t._v(" "),a("p",[t._v("Token 是一串字符串，包含用户的相关信息。")]),t._v(" "),a("p",[a("strong",[t._v("流程：")])]),t._v(" "),a("ol",[a("li",[t._v("用户登录，输入用户名和密码")]),t._v(" "),a("li",[t._v("服务器验证成功后，生成 Token")]),t._v(" "),a("li",[t._v("服务器将 Token 返回给客户端")]),t._v(" "),a("li",[t._v("客户端存储 Token（Cookie 或 Local Storage）")]),t._v(" "),a("li",[t._v("客户端每次请求都携带 Token")]),t._v(" "),a("li",[t._v("服务器验证 Token 有效性")])]),t._v(" "),a("h3",{attrs:{id:"jwt-json-web-token"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#jwt-json-web-token"}},[t._v("#")]),t._v(" JWT（JSON Web Token）")]),t._v(" "),a("p",[t._v("JWT 是一个开放标准，定义了一种用于简洁、自包含的用于通信双方之间以 JSON 对象的形式安全传输信息的方法。")]),t._v(" "),a("p",[a("strong",[t._v("JWT 格式分为三部分：")])]),t._v(" "),a("ul",[a("li",[t._v("Header（头部）：描述 JWT 的元数据")]),t._v(" "),a("li",[t._v("Payload（负载）：用来存放实际需要传递的数据")]),t._v(" "),a("li",[t._v("Signature（签名）：对前两部分的签名，防止数据篡改")])]),t._v(" "),a("h3",{attrs:{id:"oauth2-0"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#oauth2-0"}},[t._v("#")]),t._v(" OAuth2.0")]),t._v(" "),a("p",[t._v("OAuth 2.0 是一个开放授权标准，允许用户授权第三方应用访问他们存储在另外服务提供者上的信息。")]),t._v(" "),a("p",[a("strong",[t._v("流程：")])]),t._v(" "),a("ol",[a("li",[t._v("客户端向认证服务器请求授权")]),t._v(" "),a("li",[t._v("用户同意授权")]),t._v(" "),a("li",[t._v("认证服务器返回 Access Token")]),t._v(" "),a("li",[t._v("客户端通过 Access Token 向资源服务器请求资源")]),t._v(" "),a("li",[t._v("资源服务器验证 Access Token，有效则返回资源")])]),t._v(" "),a("h3",{attrs:{id:"sso-单点登录"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sso-单点登录"}},[t._v("#")]),t._v(" SSO（单点登录）")]),t._v(" "),a("p",[t._v("SSO 的定义是在多个应用系统中，用户只需要登录一次就可以访问所有相互信任的应用系统。")]),t._v(" "),a("h2",{attrs:{id:"_5-csp-content-security-policy-可以解决什么问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-csp-content-security-policy-可以解决什么问题"}},[t._v("#")]),t._v(" 5. CSP（Content Security Policy）可以解决什么问题？")]),t._v(" "),a("p",[t._v("CSP 是为限制网页上可以加载和执行的资源。")]),t._v(" "),a("p",[a("strong",[t._v("主要防护方式：")])]),t._v(" "),a("ul",[a("li",[t._v("限制资源加载")]),t._v(" "),a("li",[t._v("限制内联脚本执行")]),t._v(" "),a("li",[t._v("禁止 eval() 等函数")]),t._v(" "),a("li",[t._v("设置 HTTP 响应头")])]),t._v(" "),a("p",[a("strong",[t._v("作用：")])]),t._v(" "),a("ul",[a("li",[t._v("防止 XSS 攻击")]),t._v(" "),a("li",[t._v("防止内容注入")]),t._v(" "),a("li",[t._v("报告违规行为")])]),t._v(" "),a("h2",{attrs:{id:"_6-跨域"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-跨域"}},[t._v("#")]),t._v(" 6. 跨域")]),t._v(" "),a("h3",{attrs:{id:"什么是跨域"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#什么是跨域"}},[t._v("#")]),t._v(" 什么是跨域")]),t._v(" "),a("p",[t._v("跨域是指浏览器出于安全考虑，禁止向不同源的服务器发送请求。")]),t._v(" "),a("h3",{attrs:{id:"同源策略"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#同源策略"}},[t._v("#")]),t._v(" 同源策略")]),t._v(" "),a("p",[t._v("当协议、域名、端口号中任意一个不相同时，都会判断为不同源。")]),t._v(" "),a("h3",{attrs:{id:"cors-跨域资源共享"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cors-跨域资源共享"}},[t._v("#")]),t._v(" CORS（跨域资源共享）")]),t._v(" "),a("p",[t._v("服务器设置响应头，允许跨域访问。")]),t._v(" "),a("h4",{attrs:{id:"简单请求"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#简单请求"}},[t._v("#")]),t._v(" 简单请求")]),t._v(" "),a("p",[t._v("同时满足以下两个条件，就属于简单请求：")]),t._v(" "),a("ol",[a("li",[t._v("请求方法是：HEAD、GET、POST 三者之一")]),t._v(" "),a("li",[t._v("HTTP 头信息不超过几个字段：Accept、Accept-Language、Content-Language、Content-Type")])]),t._v(" "),a("h4",{attrs:{id:"非简单请求"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#非简单请求"}},[t._v("#")]),t._v(" 非简单请求")]),t._v(" "),a("p",[t._v("不满足简单请求条件的，就属于非简单请求。")]),t._v(" "),a("p",[t._v("非简单请求会先发送一次 OPTIONS 的预检请求。")]),t._v(" "),a("h3",{attrs:{id:"跨域解决方案"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#跨域解决方案"}},[t._v("#")]),t._v(" 跨域解决方案")]),t._v(" "),a("h4",{attrs:{id:"nginx-代理跨域"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nginx-代理跨域"}},[t._v("#")]),t._v(" Nginx 代理跨域")]),t._v(" "),a("p",[t._v("通过 Nginx 代理服务器来转发请求。")]),t._v(" "),a("div",{staticClass:"language-nginx extra-class"},[a("pre",{pre:!0,attrs:{class:"language-nginx"}},[a("code",[a("span",{pre:!0,attrs:{class:"token directive"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("location")]),t._v(" /api")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token directive"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("proxy_pass")]),t._v(" http://api.example.com")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token directive"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("add_header")]),t._v(" Access-Control-Allow-Origin *")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token directive"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("add_header")]),t._v(" Access-Control-Allow-Methods *")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token directive"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("add_header")]),t._v(" Access-Control-Allow-Headers *")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h4",{attrs:{id:"jsonp"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#jsonp"}},[t._v("#")]),t._v(" JSONP")]),t._v(" "),a("p",[t._v("利用 "),a("code",[t._v("<script>")]),t._v(" 标签没有跨域限制的特点。")]),t._v(" "),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token script"}},[a("span",{pre:!0,attrs:{class:"token language-javascript"}},[t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("callback")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("data")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("src")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("http://example.com/api?callback=callback"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token script"}}),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),a("h4",{attrs:{id:"postmessage"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#postmessage"}},[t._v("#")]),t._v(" PostMessage")]),t._v(" "),a("p",[t._v("HTML5 新增的跨文档通信 API。")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("postMessage")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("message"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" targetOrigin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("h3",{attrs:{id:"samesite-cookie"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#samesite-cookie"}},[t._v("#")]),t._v(" SameSite Cookie")]),t._v(" "),a("p",[t._v("SameSite 是 Cookie 的一个属性，用来限制第三方 Cookie。")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("Strict")]),t._v("：严格模式，完全禁止第三方 Cookie")]),t._v(" "),a("li",[a("strong",[t._v("Lax")]),t._v("：宽松模式，允许部分情况携带 Cookie")]),t._v(" "),a("li",[a("strong",[t._v("None")]),t._v("：任何情况下都会携带 Cookie")])]),t._v(" "),a("h2",{attrs:{id:"_7-https-有哪些优点"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-https-有哪些优点"}},[t._v("#")]),t._v(" 7. HTTPS 有哪些优点？")]),t._v(" "),a("ul",[a("li",[t._v("使用 HTTPS 协议可认证用户和服务器，确保数据发送到正确的客户机和服务器")]),t._v(" "),a("li",[t._v("数据通过加密传输，防止被窃取")]),t._v(" "),a("li",[t._v("数据不会被篡改，防止中间人攻击")]),t._v(" "),a("li",[t._v("是目前架构下最安全的解决方案")])]),t._v(" "),a("h2",{attrs:{id:"_8-websocket-安全"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_8-websocket-安全"}},[t._v("#")]),t._v(" 8. WebSocket 安全")]),t._v(" "),a("h3",{attrs:{id:"概述"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#概述"}},[t._v("#")]),t._v(" 概述")]),t._v(" "),a("p",[t._v("WebSocket 是一种在单个 TCP 连接上进行全双工通信的协议。")]),t._v(" "),a("p",[t._v("协议标识符是 "),a("code",[t._v("ws")]),t._v("（如果加密，则为 "),a("code",[t._v("wss")]),t._v("）。")]),t._v(" "),a("h3",{attrs:{id:"安全问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安全问题"}},[t._v("#")]),t._v(" 安全问题")]),t._v(" "),a("h4",{attrs:{id:"认证授权"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#认证授权"}},[t._v("#")]),t._v(" 认证授权")]),t._v(" "),a("p",[t._v("建议通过 Token 进行认证，在连接时验证 Token，以及建立连接后每次消息交互都应验证权限。")]),t._v(" "),a("h4",{attrs:{id:"输入验证"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#输入验证"}},[t._v("#")]),t._v(" 输入验证")]),t._v(" "),a("p",[t._v("验证输入，包括类型检查、长度限制等，避免恶意代码注入。")]),t._v(" "),a("h4",{attrs:{id:"csrf-攻击"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#csrf-攻击"}},[t._v("#")]),t._v(" CSRF 攻击")]),t._v(" "),a("p",[t._v("验证 Origin 头部的来源，确定请求来源是否合法。")]),t._v(" "),a("h4",{attrs:{id:"dos-攻击"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dos-攻击"}},[t._v("#")]),t._v(" DOS 攻击")]),t._v(" "),a("ul",[a("li",[t._v("使用 "),a("code",[t._v("wss://")]),t._v(" 加密连接")]),t._v(" "),a("li",[t._v("限制单个 IP 可建立连接的最大连接数")]),t._v(" "),a("li",[t._v("实现超时机制")]),t._v(" "),a("li",[t._v("限制消息大小和频率")])]),t._v(" "),a("h2",{attrs:{id:"_9-什么是点击劫持-如何防止点击劫持"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_9-什么是点击劫持-如何防止点击劫持"}},[t._v("#")]),t._v(" 9. 什么是点击劫持？如何防止点击劫持？")]),t._v(" "),a("p",[t._v("点击劫持（Clickjacking）是一种视觉欺骗的攻击手段，攻击者将目标网站嵌入到自己的网站中，并设置为透明，诱导用户点击。")]),t._v(" "),a("h3",{attrs:{id:"防护方法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#防护方法"}},[t._v("#")]),t._v(" 防护方法")]),t._v(" "),a("ul",[a("li",[t._v("使用 X-Frame-Options 响应头")]),t._v(" "),a("li",[t._v("使用 CSP 的 frame-ancestors 指令")]),t._v(" "),a("li",[t._v("使用 JavaScript 检测是否被嵌套")])]),t._v(" "),a("h2",{attrs:{id:"_10-什么是-samesite-cookie-属性"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_10-什么是-samesite-cookie-属性"}},[t._v("#")]),t._v(" 10. 什么是 SameSite Cookie 属性？")]),t._v(" "),a("p",[t._v("SameSite 是 HTTP 响应头 Set-Cookie 的一个属性。")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("Strict")]),t._v("：严格模式，完全禁止第三方 Cookie")]),t._v(" "),a("li",[a("strong",[t._v("Lax")]),t._v("：宽松模式，部分情况下允许携带 Cookie")]),t._v(" "),a("li",[a("strong",[t._v("None")]),t._v("：不限制，Cookie 在任何情况下都会发送")])]),t._v(" "),a("h2",{attrs:{id:"_11-cookie-的-samesite-属性有什么作用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_11-cookie-的-samesite-属性有什么作用"}},[t._v("#")]),t._v(" 11. Cookie 的 SameSite 属性有什么作用？")]),t._v(" "),a("p",[t._v("用来防止 CSRF 攻击和用户追踪。")]),t._v(" "),a("h3",{attrs:{id:"第一方-cookie-和第三方-cookie"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#第一方-cookie-和第三方-cookie"}},[t._v("#")]),t._v(" 第一方 Cookie 和第三方 Cookie")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("第一方 Cookie")]),t._v("：由当前网页的域名设置的 Cookie")]),t._v(" "),a("li",[a("strong",[t._v("第三方 Cookie")]),t._v("：如果网站嵌入其他域名，第三方网站设置的 Cookie")])]),t._v(" "),a("h3",{attrs:{id:"lax-规则"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#lax-规则"}},[t._v("#")]),t._v(" Lax 规则")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("请求类型")]),t._v(" "),a("th",[t._v("示例")]),t._v(" "),a("th",[t._v("正常情况")]),t._v(" "),a("th",[t._v("Lax")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("链接")]),t._v(" "),a("td",[a("code",[t._v('<a href="..."></a>')])]),t._v(" "),a("td",[t._v("发送 Cookie")]),t._v(" "),a("td",[t._v("发送 Cookie")])]),t._v(" "),a("tr",[a("td",[t._v("预加载")]),t._v(" "),a("td",[a("code",[t._v('<link rel="prerender" href="..."/>')])]),t._v(" "),a("td",[t._v("发送 Cookie")]),t._v(" "),a("td",[t._v("发送 Cookie")])]),t._v(" "),a("tr",[a("td",[t._v("GET 表单")]),t._v(" "),a("td",[a("code",[t._v('<form method="GET" action="...">')])]),t._v(" "),a("td",[t._v("发送 Cookie")]),t._v(" "),a("td",[t._v("发送 Cookie")])]),t._v(" "),a("tr",[a("td",[t._v("POST 表单")]),t._v(" "),a("td",[a("code",[t._v('<form method="POST" action="...">')])]),t._v(" "),a("td",[t._v("发送 Cookie")]),t._v(" "),a("td",[t._v("不发送")])]),t._v(" "),a("tr",[a("td",[t._v("iframe")]),t._v(" "),a("td",[a("code",[t._v('<iframe src="..."></iframe>')])]),t._v(" "),a("td",[t._v("发送 Cookie")]),t._v(" "),a("td",[t._v("不发送 Cookie")])]),t._v(" "),a("tr",[a("td",[t._v("AJAX")]),t._v(" "),a("td",[a("code",[t._v('$.get("...")')])]),t._v(" "),a("td",[t._v("发送 Cookie")]),t._v(" "),a("td",[t._v("不发送")])]),t._v(" "),a("tr",[a("td",[t._v("Image")]),t._v(" "),a("td",[a("code",[t._v('<img src="...">')])]),t._v(" "),a("td",[t._v("发送 Cookie")]),t._v(" "),a("td",[t._v("不发送 Cookie")])])])]),t._v(" "),a("h2",{attrs:{id:"_12-cookie-中的-httponly-属性有什么用途"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_12-cookie-中的-httponly-属性有什么用途"}},[t._v("#")]),t._v(" 12. Cookie 中的 HttpOnly 属性有什么用途？")]),t._v(" "),a("p",[t._v("当 Cookie 设置了 HttpOnly 标记后，该 Cookie 无法通过客户端脚本访问。")]),t._v(" "),a("p",[t._v("这样即使网站存在 XSS 漏洞，也无法通过 JavaScript 读取 Cookie，避免 Cookie 被盗取。")]),t._v(" "),a("h2",{attrs:{id:"_13-前端的常规安全策略"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_13-前端的常规安全策略"}},[t._v("#")]),t._v(" 13. 前端的常规安全策略")]),t._v(" "),a("ul",[a("li",[t._v("防御 XSS 攻击：转义 HTML + 净化 HTML + CSP")]),t._v(" "),a("li",[t._v("防御 CSRF 攻击：SameSite Cookie + CSRF Token + Referer 验证")]),t._v(" "),a("li",[t._v("对第三方包和组件进行检测：NSP、Snyk")]),t._v(" "),a("li",[t._v("HTTPS 加密传输")]),t._v(" "),a("li",[t._v("敏感数据加密存储")])]),t._v(" "),a("h2",{attrs:{id:"_14-静态资源完整性校验"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_14-静态资源完整性校验"}},[t._v("#")]),t._v(" 14. 静态资源完整性校验")]),t._v(" "),a("p",[t._v("使用 Subresource Integrity（SRI）标准，可以验证引入的资源是否被篡改。")]),t._v(" "),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),t._v(" \n  "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("src")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("https://cdn.example.com/app.js"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("integrity")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("sha384-oqVuAfXRKap7fdgcCY5uykM6+R9GqQ8K/uxy9rx7HNQlGYl1kPzQho1wx4JwY8wC"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("crossorigin")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("anonymous"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token script"}},[a("span",{pre:!0,attrs:{class:"token language-javascript"}},[t._v("\n")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),a("h2",{attrs:{id:"_15-前端防止抄袭"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_15-前端防止抄袭"}},[t._v("#")]),t._v(" 15. 前端防止抄袭")]),t._v(" "),a("ul",[a("li",[t._v("禁用右键")]),t._v(" "),a("li",[t._v("禁用 F12")]),t._v(" "),a("li",[t._v("禁用查看源代码")]),t._v(" "),a("li",[t._v("混淆和加密：对 JavaScript 代码进行混淆、压缩、加密")]),t._v(" "),a("li",[t._v("水印：在页面上添加水印，追踪来源")])]),t._v(" "),a("h2",{attrs:{id:"_16-iframe-安全"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_16-iframe-安全"}},[t._v("#")]),t._v(" 16. iframe 安全")]),t._v(" "),a("h3",{attrs:{id:"安全问题-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安全问题-2"}},[t._v("#")]),t._v(" 安全问题")]),t._v(" "),a("ul",[a("li",[t._v("嵌入第三方内容会有不可控因素")]),t._v(" "),a("li",[t._v("攻击者可以将目标网站嵌入并设置为透明，诱导点击")]),t._v(" "),a("li",[t._v("跨域通信问题")])]),t._v(" "),a("h3",{attrs:{id:"防护方案"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#防护方案"}},[t._v("#")]),t._v(" 防护方案")]),t._v(" "),a("p",[t._v("设置 X-Frame-Options 响应头：")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("DENY")]),t._v("：不允许被任何页面嵌入")]),t._v(" "),a("li",[a("strong",[t._v("SAMEORIGIN")]),t._v("：只允许在相同域名页面中被嵌入")]),t._v(" "),a("li",[a("strong",[t._v("ALLOW-FROM uri")]),t._v("：允许在指定来源的页面中被嵌入")])]),t._v(" "),a("h2",{attrs:{id:"_17-sql-注入"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_17-sql-注入"}},[t._v("#")]),t._v(" 17. SQL 注入")]),t._v(" "),a("p",[t._v("SQL 注入是一种常见的安全漏洞，攻击者通过在输入字段中插入恶意 SQL 代码，从而执行非法的数据库操作。")]),t._v(" "),a("h3",{attrs:{id:"防护方式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#防护方式"}},[t._v("#")]),t._v(" 防护方式")]),t._v(" "),a("ul",[a("li",[t._v("后端进行严格的输入验证，对敏感字符过滤")]),t._v(" "),a("li",[t._v("使用参数化查询，避免拼接 SQL")]),t._v(" "),a("li",[t._v("限制数据库权限")]),t._v(" "),a("li",[t._v("使用 ORM 框架")]),t._v(" "),a("li",[t._v("记录日志")])]),t._v(" "),a("h2",{attrs:{id:"_18-中间人攻击"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_18-中间人攻击"}},[t._v("#")]),t._v(" 18. 中间人攻击")]),t._v(" "),a("p",[t._v("中间人攻击（MITM）是指攻击者与通信的两端分别建立连接，又能够完全控制通信内容的攻击方式。")]),t._v(" "),a("h3",{attrs:{id:"常见的攻击方式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#常见的攻击方式"}},[t._v("#")]),t._v(" 常见的攻击方式")]),t._v(" "),a("h4",{attrs:{id:"arp-欺骗"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#arp-欺骗"}},[t._v("#")]),t._v(" ARP 欺骗")]),t._v(" "),a("p",[t._v("通过伪造 IP 地址和 MAC 地址，进行 ARP 欺骗。")]),t._v(" "),a("h4",{attrs:{id:"dns-劫持"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dns-劫持"}},[t._v("#")]),t._v(" DNS 劫持")]),t._v(" "),a("p",[t._v("通过劫持 DNS 服务器，将域名解析到攻击者的服务器上。")]),t._v(" "),a("h4",{attrs:{id:"伪造证书"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#伪造证书"}},[t._v("#")]),t._v(" 伪造证书")]),t._v(" "),a("p",[t._v("攻击者使用自己签发的伪造证书，欺骗客户端。")]),t._v(" "),a("h3",{attrs:{id:"防护方式-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#防护方式-2"}},[t._v("#")]),t._v(" 防护方式")]),t._v(" "),a("ul",[a("li",[t._v("使用 HTTPS")]),t._v(" "),a("li",[t._v("证书验证")]),t._v(" "),a("li",[t._v("不使用公共 WiFi")])]),t._v(" "),a("h2",{attrs:{id:"_19-如何防止别人调试自己的前端代码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_19-如何防止别人调试自己的前端代码"}},[t._v("#")]),t._v(" 19. 如何防止别人调试自己的前端代码？")]),t._v(" "),a("h3",{attrs:{id:"禁用调试"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#禁用调试"}},[t._v("#")]),t._v(" 禁用调试")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 禁用 F12")]),t._v("\ndocument"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onkeydown")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("e")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("key "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'F12'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 检测开发者工具")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setInterval")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("debugger")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("h3",{attrs:{id:"代码混淆"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#代码混淆"}},[t._v("#")]),t._v(" 代码混淆")]),t._v(" "),a("p",[t._v("对 JavaScript 代码进行混淆、压缩、加密。")]),t._v(" "),a("h2",{attrs:{id:"_20-如何应对流量劫持"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_20-如何应对流量劫持"}},[t._v("#")]),t._v(" 20. 如何应对流量劫持？")]),t._v(" "),a("h3",{attrs:{id:"https-加密"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#https-加密"}},[t._v("#")]),t._v(" HTTPS 加密")]),t._v(" "),a("p",[t._v("使用 HTTPS 协议加密传输，防止数据被窃取和篡改。")]),t._v(" "),a("h3",{attrs:{id:"sri-子资源完整性"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sri-子资源完整性"}},[t._v("#")]),t._v(" SRI 子资源完整性")]),t._v(" "),a("p",[t._v("验证引入的资源是否被篡改。")]),t._v(" "),a("h3",{attrs:{id:"csp-内容安全策略"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#csp-内容安全策略"}},[t._v("#")]),t._v(" CSP 内容安全策略")]),t._v(" "),a("p",[t._v("限制资源加载来源。")]),t._v(" "),a("h2",{attrs:{id:"_21-前端安全自测清单"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_21-前端安全自测清单"}},[t._v("#")]),t._v(" 21. 前端安全自测清单")]),t._v(" "),a("h3",{attrs:{id:"xss-防护"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#xss-防护"}},[t._v("#")]),t._v(" XSS 防护")]),t._v(" "),a("ul",[a("li",[t._v("[ ] 对用户输入进行转义和过滤")]),t._v(" "),a("li",[t._v("[ ] 使用 CSP 限制脚本执行")]),t._v(" "),a("li",[t._v("[ ] 避免使用 innerHTML、eval 等危险函数")]),t._v(" "),a("li",[t._v("[ ] 对第三方库进行安全检查")])]),t._v(" "),a("h3",{attrs:{id:"csrf-防护-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#csrf-防护-2"}},[t._v("#")]),t._v(" CSRF 防护")]),t._v(" "),a("ul",[a("li",[t._v("[ ] 使用 CSRF Token")]),t._v(" "),a("li",[t._v("[ ] 设置 SameSite Cookie")]),t._v(" "),a("li",[t._v("[ ] 验证 Referer 头")]),t._v(" "),a("li",[t._v("[ ] 敏感操作需要二次验证")])]),t._v(" "),a("h3",{attrs:{id:"cookie-安全"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cookie-安全"}},[t._v("#")]),t._v(" Cookie 安全")]),t._v(" "),a("ul",[a("li",[t._v("[ ] 设置 HttpOnly 属性")]),t._v(" "),a("li",[t._v("[ ] 设置 Secure 属性（HTTPS）")]),t._v(" "),a("li",[t._v("[ ] 设置 SameSite 属性")]),t._v(" "),a("li",[t._v("[ ] 合理设置过期时间")])]),t._v(" "),a("h3",{attrs:{id:"数据传输"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#数据传输"}},[t._v("#")]),t._v(" 数据传输")]),t._v(" "),a("ul",[a("li",[t._v("[ ] 使用 HTTPS 加密传输")]),t._v(" "),a("li",[t._v("[ ] 敏感数据加密存储")]),t._v(" "),a("li",[t._v("[ ] API 接口进行鉴权")])]),t._v(" "),a("h3",{attrs:{id:"依赖安全"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#依赖安全"}},[t._v("#")]),t._v(" 依赖安全")]),t._v(" "),a("ul",[a("li",[t._v("[ ] 定期更新依赖包")]),t._v(" "),a("li",[t._v("[ ] 使用 npm audit 检查漏洞")]),t._v(" "),a("li",[t._v("[ ] 使用 SRI 验证 CDN 资源")])]),t._v(" "),a("h3",{attrs:{id:"其他"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#其他"}},[t._v("#")]),t._v(" 其他")]),t._v(" "),a("ul",[a("li",[t._v("[ ] 设置合适的 CORS 策略")]),t._v(" "),a("li",[t._v("[ ] 防止点击劫持（X-Frame-Options）")]),t._v(" "),a("li",[t._v("[ ] 输入验证和输出编码")]),t._v(" "),a("li",[t._v("[ ] 错误信息不暴露敏感信息")])])])}),[],!1,null,null,null);a.default=r.exports}}]);