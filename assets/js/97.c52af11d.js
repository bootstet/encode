(window.webpackJsonp=window.webpackJsonp||[]).push([[97],{463:function(s,t,a){"use strict";a.r(t);var r=a(25),e=Object(r.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"xss"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#xss"}},[s._v("#")]),s._v(" XSS")]),s._v(" "),t("p",[s._v("Cross-Site Scripting（跨站脚本攻击）简称 XSS，是一种代码注入攻击。攻击者通过在目标网站上注入恶意脚本，使之在用户的浏览器上运行。利用这些恶意脚本，攻击者可获取用户的敏感信息如 Cookie、SessionID 等，进而危害数据安全。")]),s._v(" "),t("p",[s._v("Cross-site scripting的英文首字母缩写本应为 CSS，但因为 CSS 在网页设计领域已经被广泛指层叠样式表（Cascading Style Sheets），所以将Cross（意为“交叉”）改以交叉形的X做为缩写。但早期的文件还是会使用 CSS 表示 Cross-site scripting。")]),s._v(" "),t("p",[s._v("默认网站只能运行我们自己站内的代码。")]),s._v(" "),t("p",[s._v("XSS 攻击能够实现把外部 JavaScript 注入网站内部，形成攻击。\nXSS 的本质是：恶意代码未经过滤，与网站正常的代码混在一起；浏览器无法分辨哪些脚本是可信的，导致恶意脚本被执行。")]),s._v(" "),t("p",[s._v("而由于直接在用户的终端执行，恶意代码能够直接获取用户的信息，或者利用这些信息冒充用户向网站发起攻击者定义的请求。\n在部分情况下，由于输入的限制，注入的恶意脚本比较短。但可以通过引入外部的脚本，并由浏览器执行，来完成比较复杂的攻击策略。")]),s._v(" "),t("h2",{attrs:{id:"xss攻击原理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#xss攻击原理"}},[s._v("#")]),s._v(" XSS攻击原理")]),s._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v("  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("data")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("content")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('\'<img src="xxx" onerror="alert(123)">\'')]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n  "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("div v"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("html"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"content"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("div"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])])]),t("h2",{attrs:{id:"xss-的危害"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#xss-的危害"}},[s._v("#")]),s._v(" XSS 的危害")]),s._v(" "),t("ul",[t("li",[s._v("窃取 Cookie")]),s._v(" "),t("li",[s._v("按键记录和钓鱼")]),s._v(" "),t("li",[s._v("未授权操作")]),s._v(" "),t("li",[s._v("获取页面数据")]),s._v(" "),t("li",[s._v("获取 Cookies")]),s._v(" "),t("li",[s._v("获取本地存储数据")]),s._v(" "),t("li",[s._v("劫持前端逻辑")]),s._v(" "),t("li",[s._v("发送请求")]),s._v(" "),t("li",[s._v("图片、表单等")]),s._v(" "),t("li",[s._v("偷取网站任意数据")]),s._v(" "),t("li",[s._v("偷取用户资料")]),s._v(" "),t("li",[s._v("偷取用户密码和登录状态")]),s._v(" "),t("li",[s._v("欺骗用户")]),s._v(" "),t("li",[s._v("利用虚假输入表单骗取用户个人信息")]),s._v(" "),t("li",[s._v("利用脚本窃取用户的 Cookie，被害者在不知情的情况下，帮助攻击者发送恶意请求")]),s._v(" "),t("li",[s._v("显示伪造的文章或图片")]),s._v(" "),t("li",[s._v("...")])]),s._v(" "),t("h2",{attrs:{id:"xss-攻击分类"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#xss-攻击分类"}},[s._v("#")]),s._v(" XSS 攻击分类")]),s._v(" "),t("ul",[t("li",[s._v("反射型 XSS：url")]),s._v(" "),t("li",[s._v("存储型 XSS：数据持久化")]),s._v(" "),t("li",[s._v("DOM XSS：纯前端 DOM 操作")])]),s._v(" "),t("p",[s._v("反射型和存储型在纯前端渲染中已经很少见了，尤其是在大量使用第三方框架的前提下。")]),s._v(" "),t("ul",[t("li",[s._v("Vue")]),s._v(" "),t("li",[s._v("React")]),s._v(" "),t("li",[s._v("Angular")]),s._v(" "),t("li",[s._v("....")])]),s._v(" "),t("h3",{attrs:{id:"反射性-xss"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#反射性-xss"}},[s._v("#")]),s._v(" 反射性 XSS")]),s._v(" "),t("p",[s._v("反射型 XSS 的攻击步骤：")]),s._v(" "),t("ul",[t("li",[s._v("攻击者构造出特殊的 URL，其中包含恶意代码。")]),s._v(" "),t("li",[s._v("用户打开带有恶意代码的 URL 时，网站服务端将恶意代码从 URL 中取出，拼接在 HTML 中返回给浏览器。")]),s._v(" "),t("li",[s._v("用户浏览器接收到响应后解析执行，混在其中的恶意代码也被执行。")]),s._v(" "),t("li",[s._v("恶意代码窃取用户数据并发送到攻击者的网站，或者冒充用户的行为，调用目标网站接口执行攻击者指定的操作。")])]),s._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v("  "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("h1 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"logo-font"')]),s._v(" v"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("html"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"$route.query.content"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("h1"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])])]),t("p",[s._v("请求地址：")]),s._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v("  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("http")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("localhost"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8080")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("#"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("?")]),s._v("content"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("img src"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"xxx"')]),s._v(" onerror"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"alert(123)"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])])])])}),[],!1,null,null,null);t.default=e.exports}}]);